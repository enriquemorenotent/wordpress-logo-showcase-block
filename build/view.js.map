{"version":3,"file":"view.js","mappings":"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","sources":["webpack://emt-logo-showcase/./src/view.js"],"sourcesContent":["const transition = (element, opacity, resolve) => {\n\telement.style.display = \"block\";\n\n\t// Dont change opacity until the \"block\" has been processed\n\t// This is to prevent the transition from happening immediately\n\tsetTimeout(() => {\n\t\telement.style.opacity = opacity;\n\t}, 10);\n\n\t// When the transition is done, make \"display none if necessary\" and resolve the promise\n\telement.addEventListener(\"transitionend\", () => {\n\t\telement.style.display = opacity === 0 ? \"none\" : \"block\";\n\t\tresolve();\n\t});\n};\n\nconst fadeOut = (element) =>\n\tnew Promise((resolve) => transition(element, 0, resolve));\n\nconst fadeIn = (element) =>\n\tnew Promise((resolve) => transition(element, 1, resolve));\n\nconst fadeOutAll = (elements) =>\n\tPromise.all(elements.map((element) => fadeOut(element)));\n\nconst fadeInAll = (elements) =>\n\tPromise.all(elements.map((element) => fadeIn(element)));\n\n// A function that gives a collection of data, a page size, and an offset, it gives you a subset of the data\n// Example: getPagedElements([1,2,3,4,5], 2, 0) => [1,2]\n// Example: getPagedElements([1,2,3,4,5], 3, 1) => [4,5]\nconst getPagedElements = (elements, pageSize, offset) => {\n\tconst startIndex = offset * pageSize;\n\tconst endIndex = startIndex + pageSize;\n\treturn elements.slice(startIndex, endIndex);\n};\n\nconst configureInstance = (instance) => {\n\tlet activePage = 0;\n\tconst pageSize = 2;\n\n\tconst images = Array.from(instance.querySelectorAll(\".logo\"));\n\tconst imageCount = images.length;\n\n\tconst activePageElements = () =>\n\t\tgetPagedElements(images, pageSize, activePage);\n\n\tconst nextActivePage = () =>\n\t\t(activePage + 1) % Math.ceil(imageCount / pageSize);\n\n\tconst transitionToNextPage = async () => {\n\t\tawait fadeOutAll(activePageElements());\n\t\tactivePage = nextActivePage();\n\t\tawait fadeInAll(activePageElements());\n\t};\n\n\tconst start = async () => {\n\t\tawait fadeInAll(activePageElements());\n\t\tsetInterval(transitionToNextPage, 4000);\n\t};\n\n\tstart();\n\n\treturn;\n};\n\nconst handleDocumentLoaded = () => {\n\tconst instances = document.querySelectorAll(\".wp-block-emt-logo-showcase\");\n\tinstances.forEach(configureInstance);\n};\n\nconst isDocumentLoaded = () => document.readyState === \"complete\";\n\nif (isDocumentLoaded()) {\n\thandleDocumentLoaded();\n} else {\n\twindow.addEventListener(\"load\", handleDocumentLoaded);\n}\n"],"names":["transition","element","opacity","resolve","style","display","setTimeout","addEventListener","fadeOut","Promise","fadeIn","fadeOutAll","elements","all","map","fadeInAll","getPagedElements","pageSize","offset","startIndex","endIndex","slice","configureInstance","instance","activePage","images","Array","from","querySelectorAll","imageCount","length","activePageElements","nextActivePage","Math","ceil","transitionToNextPage","start","setInterval","handleDocumentLoaded","instances","document","forEach","isDocumentLoaded","readyState","window"],"sourceRoot":""}